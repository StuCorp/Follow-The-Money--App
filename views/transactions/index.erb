<h1>All transactions!</h1>

<p><a href="/transactions/new">Make new transaction!</a></p>


<table>
  <caption>All transactions </caption>
  <thead>
  <tr>
    <th scope="col">Transaction ID</th>
    <th scope="col">Date</th>
    <th scope="col">User</th>
    <th scope="col">Item</th>
    <th scope="col">Cost</th>
    <th scope="col">Tag</th>
    <th scope="col">Luxury?</th>
    <th scope="col">Edit</th>
  </tr>
  </thead>

<!-- can we put a sum variable that calculates the total.. -->
<% total = 0%>

<%for transaction_info in @transaction_infos %>

<td><%=transaction_info.buy_date%></td>
<td><%=transaction_info.transaction_id%></td>
<td><%=transaction_info.user_name%></td>
<td><%=transaction_info.transaction_name%></td>
<td>£<%='%.2f'%((transaction_info.transaction_cost.to_f)/100)%>
</td>
<%total += transaction_info.transaction_cost%>
<td><%=transaction_info.tag_name%></td>
<td><%=transaction_info.transaction_luxury%></td>
<td><a href="/transactions/<%=transaction_info.transaction_id%>/edit">edit!</a></td>
</tr>
<%end %>
<tr>
<td/><td/><td/><td>Total: </td><td>£<%=TransactionInfo.format_pennies(total)%></td><td><td/>
</tr>
</table>


